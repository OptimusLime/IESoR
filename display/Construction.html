<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>cppn construction</title>

    <!-- include jQuery + plugins, and handling of touch on ios/android -->
    <script type="text/javascript" language="javascript" src="../libraries/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" language="javascript" src="../libraries/d3.v2.min.js"></script>
    <script type="text/javascript" language="javascript" src="../libraries/jkl-parsexml.js"></script>
    <script type="text/javascript" language="javascript" src="../libraries/loadXML.js"></script>

    <script type="text/javascript" language="javascript" src="../node_modules/cppn/cppnjs.js"></script>
    <script type="text/javascript" language="javascript" src="../node_modules/neatjs/neatjs.js"></script>
    <script type="text/javascript" language="javascript" src="../evolution/interpret/cppnToBody.js"></script>
    <script type="text/javascript" language="javascript" src="../evolution/interpret/genomeCSharpToJS.js"></script>
    <script type="text/javascript" language="javascript" src="../display/d3BodyConstructor.js"></script>


    <script type="text/javascript" language="javascript">

        $(window).ready(function(){


            var globals = window;
            var commonEvolution = globals['common'];

            var libLocations =
            {
                'cppnjs' : '../node_modules/cppn',
                'neatjs' : '../node_modules/neatjs'
            };

            commonEvolution.asyncLoadLibraries(libLocations, function(err)
            {
                //cppns are a go!
                var cppnjs = globals['cppnjs'];

                var neatjs = globals['neatjs'];


                var neatGenome = neatjs.neatGenome;
                //let's load in the file identifying our interesting genomes

                var genomeSharpToJS = globals['genomeSharpToJS'];
                var cppnToBody = globals['cppnToBody'];
                var d3BodyConstructor = globals['d3BodyConstructor'];

                //if you require some dependencies, you should load in library file way (i.e. load iesor.js, and that handles it)
                //for now, a quick hack
                genomeSharpToJS.CheckDependencies();
                cppnToBody.CheckDependencies();
                d3BodyConstructor.CheckDependencies();


                var objectJSONPath = '../data/genomes/selectedBodyConstruction.json';
                var bodyConstructGraph = new d3BodyConstructor.d3Grid(objectJSONPath, 'd3Grid', 500,500, function()
                {
                    //ready to construct!
                    //let's do it!!
                    bodyConstructGraph.fullBodyAnimation('148147', {startIx: 630, increaseSpeed: true});
                });

            });
        });

    </script>

</head>
<body>

<div id="d3Grid"></div>

</body>
</html>